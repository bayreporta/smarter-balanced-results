<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8"><title>{{object.schoolname}} Smarter Balanced Results | EdSource</title></meta>
        {% include 'header.html' %}
    </head>
    <body>
        <div id="rs-contain">
           {% include 'nav.html' %}
            <div id="rs-body">                
                <section class="overview">
                     <div><h2>{{object.schoolname}}</h2></div> 
                     <div><h3>{{object.countyname}} County</h3></div>
                     <div id="rs-share"></div>
                     <em><p>Data on subgroups, such as grade level, where 10 or fewer students had test scores for either English Language Arts or Math are omitted from this list. Data may not add up to 100% due to rounding.</p></em>
               </section>
                <!-- OVERALL PRO  -->
                <section class="stacked over-pro-grade">
                    <div>
                        <h3>Overall Test Results</h3>
                    </div>
                    <div id="stacked-chart-1" class="stacked-per-column"></div>
                     <table cellpadding=7>
                        <thead>
                            <th>Subject</th>                          
                            <th>Standard Not Met</th>
                            <th>Standard Nearly Met</th>
                            <th>Standard Met</th>
                            <th>Standard Exceeded</th>
                        </thead>
                        <tr>
                            <td>English</td>
                            <td>{{((object.pct_standard_not_met_eng|float * 100))}}%</td>
                            <td>{{((object.pct_standard_nearly_met_eng|float * 100))}}%</td>
                            <td>{{((object.pct_standard_met_eng|float * 100))}}%</td>
                             <td>{{((object.pct_standard_exceeded_eng|float * 100))}}%</td>
                        </tr>
                        <tr>
                            <td>Math</td>
                            <td>{{((object.pct_standard_not_met_math|float * 100))}}%</td> 
                             <td>{{((object.pct_standard_nearly_met_math|float * 100))}}%</td>                            
                            <td>{{((object.pct_standard_met_math|float * 100))}}%</td> 
                            <td>{{((object.pct_standard_exceeded_math|float * 100))}}%</td>      
                        </tr>
                    </table>
                    <script type="text/javascript">
                        stackedColumnChart.getAttr(stackedColumnChart.vars, '../static/charter.csv', 'stacked-chart-1', 500, 300, [50,100,30,40], colorbrewer['BuPu'], 4, true, null, null, '.0%', 10, .1, null, null, null, {{ data|safe }}, 0, true);
                    </script>
                    
                </section>
                <!-- OVERALL PRO GRADES  -->
                {% if object.check_all %}
                <hr>
                <section class="stacked over-pro-grades">
                    <div>
                        <h3>Grade Level Breakdown</h3>
                    </div>
                    {% if object.check_all_eng %}
                    <div id="stacked-chart-2" class="stacked-per-column"></div>
                    <table class="table-fix" cellpadding=7>
                        <thead>
                            <th>Grade</th>
                            <th>English: Standard Not Met</th>
                            <th>English: Standard Nearly Met</th>
                            <th>English: Standard Met</th>
                            <th>English: Standard Exceeded</th>
                        </thead>
                        {% if object.check_3rd_eng %}
                         <tr>
                            <td>Grade 3</td>
                            <td>{{((object.grade3_eng_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade3_eng_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade3_eng_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade3_eng_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_4th_eng %}
                        <tr>
                            <td>Grade 4</td>
                            <td>{{((object.grade4_eng_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade4_eng_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade4_eng_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade4_eng_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_5th_eng %}
                        <tr>
                            <td>Grade 5</td>
                            <td>{{((object.grade5_eng_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade5_eng_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade5_eng_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade5_eng_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_6th_eng %}
                        <tr>
                            <td>Grade 6</td>
                            <td>{{((object.grade6_eng_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade6_eng_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade6_eng_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade6_eng_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_7th_eng %}
                        <tr>
                            <td>Grade 7</td>
                            <td>{{((object.grade7_eng_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade7_eng_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade7_eng_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade7_eng_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_8th_eng %}
                        <tr>
                            <td>Grade 8</td>
                            <td>{{((object.grade8_eng_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade8_eng_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade8_eng_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade8_eng_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_11th_eng %}
                        <tr>
                            <td>Grade 11</td>
                            <td>{{((object.grade11_eng_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade11_eng_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade11_eng_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade11_eng_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                    </table>
                    <script type="text/javascript">stackedColumnChart.getAttr(stackedColumnChart.vars, '../static/charter.csv', 'stacked-chart-2', 500, 300, [50,100,30,40], colorbrewer['BuPu'], 4, false, null, null, '.0%', 10, .1, null, 'English Language Arts Results', null, {{ data|safe }}, 1, true);</script>
                    {% endif %}
                    {% if object.check_all_math %}
                    <div id="stacked-chart-3" class="stacked-per-column"></div>
                    <table class="table-fix" cellpadding=7>
                        <thead>
                            <th>Grade</th>
                            <th>Math: Standard Not Met</th>
                            <th>Math: Standard Nearly Met</th>
                            <th>Math: Standard Met</th>
                            <th>Math: Standard Exceeded</th>
                        </thead>
                        {% if object.check_3rd_math %}
                         <tr>
                            <td>Grade 3</td>
                            <td>{{((object.grade3_math_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade3_math_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade3_math_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade3_math_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_4th_math %}
                        <tr>
                            <td>Grade 4</td>
                            <td>{{((object.grade4_math_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade4_math_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade4_math_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade4_math_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_5th_math %}
                        <tr>
                            <td>Grade 5</td>
                            <td>{{((object.grade5_math_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade5_math_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade5_math_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade5_math_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_6th_math %}
                        <tr>
                            <td>Grade 6</td>
                            <td>{{((object.grade6_math_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade6_math_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade6_math_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade6_math_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_7th_math %}
                        <tr>
                            <td>Grade 7</td>
                            <td>{{((object.grade7_math_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade7_math_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade7_math_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade7_math_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_8th_math %}
                        <tr>
                            <td>Grade 8</td>
                            <td>{{((object.grade8_math_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade8_math_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade8_math_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade8_math_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                        {% if object.check_11th_math %}
                        <tr>
                            <td>Grade 11</td>
                            <td>{{((object.grade11_math_lvl1|float * 100))}}%</td>
                            <td>{{((object.grade11_math_lvl2|float * 100))}}%</td>
                            <td>{{((object.grade11_math_lvl3|float * 100))}}%</td>
                            <td>{{((object.grade11_math_lvl4|float * 100))}}%</td>
                        </tr>
                        {% endif %}
                    </table>
                    <script type="text/javascript">                        
                        stackedColumnChart.getAttr(stackedColumnChart.vars, '../static/charter.csv', 'stacked-chart-3', 500, 300, [50,100,30,40], colorbrewer['BuPu'], 4, false, null, null, '.0%', 10, .1, null, 'Math Results', null, {{ data|safe }}, 2, false);
                    </script>
                    {% endif %}
                </section>
                {% endif %}
                {% include 'footer.html' %}
             </div>         
        </div>
        <script type="text/javascript">

            jQuery(document).ready(function(){

                /* FIX FLOAT ISSUE (SHORT TERM)
                ==============================================*/
                var cells = jQuery('td');
                
                for (var i = 0 ; i < cells.length ; i++){
                    cells[i].textContent = cells[i].textContent.replace('.0', '');                    
                }


                /* ADD SHARE BUTTONS
                ==============================================*/
                var shareTwitterURL = 'http%3A%2F%2Fedsource.org%2Fsmarter-balanced-results/{{object.slug}}.html';

                // build twitter button
                var twitterButton = '<a class="twitter-share" href="https://twitter.com/share?url='+shareTwitterURL+'&via=edsource&hashtags=CommonCore"><i class="fa fa-twitter-square"></i></a>';

                // append buttons
                jQuery('#rs-share').append(twitterButton);

                 /* CONFIGURE TABLESORTER
                ======================================*/    
                window.onload = function(){
                   jQuery('table').tablesorter({sortList: [[1,1]]});
                }

            })
        </script>
    </body>    
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3051201-4', 'edsource.org');
    ga('send', 'pageview');

    </script>
</html>